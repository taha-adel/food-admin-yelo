"use strict";(self.webpackChunkyelo_dashboard_angular=self.webpackChunkyelo_dashboard_angular||[]).push([[223],{20223:(k,u,s)=>{s.d(u,{Z:()=>w});var _=s(8285),l=s(48797),t=s(85678),r=s(24748),g=s(34243),d=s(58062),m=s(64933),C=s(6904),c=s(96814),f=s(70466),P=s(45188);function h(e,i){if(1&e&&(t.TgZ(0,"div"),t._uU(1,"\n      "),t.TgZ(2,"p",9),t.ynx(3),t._uU(4),t.BQk(),t._uU(5,"\n      "),t.qZA(),t._uU(6,"\n    "),t.qZA()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(n.languageStrings.No_Data_Available||"No data available.")}}function T(e,i){if(1&e&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.hij("\n        ",n.languageStrings.Request_has_been_successfully_submitted_we_are_reviewing_your_property||"Request has been successfully submitted. Please wait while we are reviewing your property.","\n      ")}}function x(e,i){if(1&e&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.hij("\n          ",n.languageStrings.Request_has_been_successfully_resubmitted_we_are_reviewing_your_property||"Request has been successfully resubmitted. Please wait while we are reviewing your property.","\n        ")}}function v(e,i){if(1&e&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.hij("\n            ",n.languageStrings.Request_has_been_successfully_resubmitted_after_approval_we_are_reviewing_your_property||"Request has been successfully resubmitted after approval. Please wait while we are reviewing your property.","\n          ")}}function O(e,i){if(1&e&&(t.TgZ(0,"div"),t._uU(1,"\n      "),t.YNc(2,T,2,1,"p",10),t._uU(3,"\n      "),t.YNc(4,x,2,1,"p",10),t._uU(5,"\n        "),t.YNc(6,v,2,1,"p",10),t._uU(7,"\n    "),t.qZA()),2&e){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",0==n.timelineData.data[0].status),t.xp6(2),t.Q6J("ngIf",3==n.timelineData.data[0].status),t.xp6(2),t.Q6J("ngIf",4==n.timelineData.data[0].status)}}function M(e,i){if(1&e&&(t.TgZ(0,"p",16),t._uU(1,"\n            "),t.TgZ(2,"span",19),t._uU(3),t.qZA(),t._UZ(4,"br"),t._uU(5,"\n            "),t.TgZ(6,"span",18),t._uU(7),t.qZA(),t._uU(8,"\n          "),t.qZA()),2&e){const n=t.oxw().$implicit,a=t.oxw(3);t.xp6(3),t.hij("",a.languageStrings.Reason||"Reason",":"),t.xp6(4),t.hij("\n              ",n.reason,"\n            ")}}function b(e,i){if(1&e&&(t.TgZ(0,"span"),t.ynx(1),t._uU(2),t.BQk(),t.qZA()),2&e){const n=t.oxw(4);t.xp6(2),t.hij("",n.languageStrings.Edited_by||"Edited by",":")}}function U(e,i){if(1&e&&(t.TgZ(0,"span"),t.ynx(1),t._uU(2),t.BQk(),t.qZA()),2&e){const n=t.oxw(4);t.xp6(2),t.hij("",n.languageStrings.Added_by||"Added by",":")}}function A(e,i){if(1&e&&(t.TgZ(0,"span"),t.ynx(1),t._uU(2),t.BQk(),t.qZA()),2&e){const n=t.oxw(4);t.xp6(2),t.hij("",n.languageStrings.Approved_by||"Approved by",":")}}function D(e,i){if(1&e&&(t.TgZ(0,"span"),t.ynx(1),t._uU(2),t.BQk(),t.qZA()),2&e){const n=t.oxw(4);t.xp6(2),t.hij("",n.languageStrings.Rejected_by||"Rejected by",":")}}function y(e,i){if(1&e&&(t.TgZ(0,"div",13),t._uU(1,"\n        "),t.TgZ(2,"div",14),t._uU(3,"\n          "),t.TgZ(4,"h5",15),t._uU(5),t.qZA(),t._uU(6,"\n          "),t.TgZ(7,"p",16),t._uU(8),t.ALo(9,"dateTimeFormat"),t.qZA(),t._uU(10,"\n          "),t.YNc(11,M,9,2,"p",17),t._uU(12,"\n          "),t.TgZ(13,"h5",16),t._uU(14,"\n            "),t.YNc(15,b,3,1,"span",4),t._uU(16,"\n            "),t.YNc(17,U,3,1,"span",4),t._uU(18,"\n            "),t.YNc(19,A,3,1,"span",4),t._uU(20,"\n            "),t.YNc(21,D,3,1,"span",4),t._uU(22,"\n            "),t.TgZ(23,"span",18),t._uU(24),t.qZA(),t._uU(25,"\n          "),t.qZA(),t._uU(26,"\n        "),t.qZA(),t._uU(27,"\n      "),t.qZA()),2&e){const n=i.$implicit,a=i.index,o=t.oxw(3);t.Q6J("ngClass",o.changeColor(a,n.status)),t.xp6(5),t.AsE("",o.commonService.loginData.terminology.PRODUCT||"Product"," ",0!=n.status?o.approvalStatuses[n.status]:o.languageStrings.submitted||"Submitted",""),t.xp6(3),t.Oqu(t.lcZ(9,10,n.creation_datetime)),t.xp6(3),t.Q6J("ngIf",n.status==o.ProductApprovalStatus.REJECTED),t.xp6(4),t.Q6J("ngIf",n.action===o.ProductChangeAction.EDITED),t.xp6(2),t.Q6J("ngIf",n.action===o.ProductChangeAction.ADDED),t.xp6(2),t.Q6J("ngIf",n.action===o.ProductChangeAction.APPROVED),t.xp6(2),t.Q6J("ngIf",n.action===o.ProductChangeAction.REJECTED),t.xp6(3),t.Oqu(n.name||"--")}}function Z(e,i){if(1&e&&(t.TgZ(0,"div",11),t._uU(1,"\n      "),t.YNc(2,y,28,12,"div",12),t._uU(3,"\n    "),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("ngClass",n.addBackground()),t.xp6(2),t.Q6J("ngForOf",n.timelineData.data)}}function E(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"app-popup",1),t.NdJ("esc",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.hideTimelinePopup())})("onClose",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.hideTimelinePopup())}),t._uU(1,"\n  "),t.TgZ(2,"div",2),t._uU(3,"\n    "),t.TgZ(4,"div",3),t._uU(5,"\n      "),t.YNc(6,h,7,1,"div",4),t._uU(7,"\n    "),t.YNc(8,O,8,3,"div",4),t._uU(9,"\n    "),t.YNc(10,Z,4,2,"div",5),t._uU(11,"\n    "),t.qZA(),t._uU(12,"\n\n  "),t.qZA(),t._uU(13,"\n  "),t.TgZ(14,"div",6),t._uU(15,"\n    "),t.TgZ(16,"div",7),t._uU(17,"\n      "),t.TgZ(18,"button",8),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.hideTimelinePopup())}),t._uU(19),t.qZA(),t._uU(20,"\n    "),t.qZA(),t._uU(21,"\n  "),t.qZA(),t._uU(22,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.s9C("header",n.languageStrings.Timeline||"Timeline"),t.Q6J("modalType",n.modalType.MEDIUM)("showCross",!0),t.xp6(6),t.Q6J("ngIf",!n.timelineData||!n.timelineData.data||0===n.timelineData.data.length),t.xp6(2),t.Q6J("ngIf",n.timelineData&&n.timelineData.data&&n.timelineData.data.length>0),t.xp6(2),t.Q6J("ngIf",n.timelineData&&n.timelineData.data&&n.timelineData.data.length>0),t.xp6(9),t.Oqu(n.languageStrings.OK||"OK")}}let w=(()=>{class e{constructor(n,a,o,p,S,R){this.route=n,this.commonService=a,this.router=o,this.customMessage=p,this.translateService=S,this.dashboardService=R,this.showTimelinePopup=!1,this.UserTypeEnum=_.FW,this.modalType=l.w8,this.ProductApprovalStatus=_.Zm,this.ProductChangeAction=_.hj,this.approvalStatuses={0:this.commonService.accountTranslationsList.Unapproved||"Unapproved",1:this.commonService.accountTranslationsList.approved||"Approved",2:this.commonService.accountTranslationsList.Rejected||"Rejected",3:this.commonService.accountTranslationsList.Resubmitted||"Resubmitted",4:this.commonService.accountTranslationsList.resubmitted_after_approval||"Resubmitted After Approval"},this.languageStrings={}}ngOnInit(){this.direction="ar"===this.commonService.loginData.language||"he"===this.commonService.loginData.language?"rtl":"ltr",this.showTimelineFunc(this.product),this.commonService.langStringsPromise.then(()=>{this.languageStrings=this.commonService.accountTranslationsList})}showTimelineFunc(n){this.commonService.showLoader=!0,this.dashboardService.getProductHistory(n.product_id).subscribe(a=>{200===a.status&&(this.showTimelinePopup=!0,this.commonService.showLoader=!1,this.timelineData={product_name:n.product_name,data:a.data.result})})}hideTimelinePopup(){this.showTimelinePopup=!1,this.commonService._hideTimeline.emit(!1)}changeColor(n,a){let o="";const p="0"!=a?parseInt(a):"";return o=0===n?"statusColorTop"+p:"statusColor"+p,o}addBackground(){let n=this.timelineData.data[0];return this.timelineData&&this.timelineData.data&&1===this.timelineData.data.length&&(n.status===this.ProductApprovalStatus.UNAPPROVED||n.status===this.ProductApprovalStatus.RESUBMITTED||n.status===this.ProductApprovalStatus.RESUBMITTED_AFTER_APPROVAL)?"addBackground":""}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(r.gz),t.Y36(g.v),t.Y36(r.F0),t.Y36(d.S),t.Y36(m.s),t.Y36(C.s))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["timeline-popup"]],inputs:{product:"product"},decls:2,vars:1,consts:[[3,"header","modalType","showCross","esc","onClose",4,"ngIf"],[3,"header","modalType","showCross","esc","onClose"],["body",""],[1,"detail-box"],[4,"ngIf"],["class","timeline",3,"ngClass",4,"ngIf"],["footer",""],[1,"d-flex","justify-content-end"],[1,"btn","btn-yl-primary","mr-2",3,"click"],[1,"unapprovedText"],["class","unapprovedText",4,"ngIf"],[1,"timeline",3,"ngClass"],["class","container right",3,"ngClass",4,"ngFor","ngForOf"],[1,"container","right",3,"ngClass"],[1,"content"],[1,"statusText","text-capitalize"],[1,"statusDate"],["class","statusDate",4,"ngIf"],[1,"statusReason"],[1,"statusReasonLabel"]],template:function(a,o){1&a&&(t.YNc(0,E,23,7,"app-popup",0),t._uU(1,"\n")),2&a&&t.Q6J("ngIf",o.showTimelinePopup)},dependencies:[c.mk,c.sg,c.O5,f.R,P.X],styles:['[_ngcontent-%COMP%]:root{--blue: #0f172a;--black: #282828;--red: Red;--gray: #e2e4e6;--gray-dark: #979797;--gray-light: #585858;--light-gray: #d3d3d3;--orange: #ff8f00;--white: #ffffff;--light-black: #282828;--sidebar-black: #1c1c1c;--sidebar-hover-black: #282828;--light-gray-back: #f7f7f7;--dark-gray-back: #ecebeb;--graph-label: #2496ff;--graph-fill: #e0a7a7;--light-background: #f9f9f9;--blue-light: #f4f6f8;--pink: #f7b8ae}.detail-box[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.timeline[_ngcontent-%COMP%]{position:relative;margin:0 auto;padding:0 25px}.timeline[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:last-child{padding:0 10px}.timeline[_ngcontent-%COMP%]:last-child:after{background-color:none}.timeline.addBackground[_ngcontent-%COMP%]:after{background-color:#2d4895}.timeline.addBackground[_ngcontent-%COMP%]   .container.statusColorTop[_ngcontent-%COMP%]:before, .timeline.addBackground[_ngcontent-%COMP%]   .container.statusColorTop3[_ngcontent-%COMP%]:before, .timeline.addBackground[_ngcontent-%COMP%]   .container.statusColorTop4[_ngcontent-%COMP%]:before{background:#2d4895;height:49px}.timeline[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:5px 40px 15px;position:relative;background-color:inherit}.timeline[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:last-child:before{background:none}.timeline[_ngcontent-%COMP%]   .container.statusColorTop[_ngcontent-%COMP%]:first-child, .timeline[_ngcontent-%COMP%]   .container.statusColorTop3[_ngcontent-%COMP%]:first-child, .timeline[_ngcontent-%COMP%]   .container.statusColorTop4[_ngcontent-%COMP%]:first-child{padding:18px 40px 15px}.timeline[_ngcontent-%COMP%]   .container.statusColorTop[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .container.statusColorTop3[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .container.statusColorTop4[_ngcontent-%COMP%]:after{top:18px}.timeline[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before{content:"";position:absolute;width:2px;background-color:#2d4895;top:0;bottom:0;left:17px}.timeline[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{content:"";position:absolute;width:32px;height:32px;right:-17px;top:0;border-radius:50%;z-index:1}.timeline[_ngcontent-%COMP%]   .container.statusColor[_ngcontent-%COMP%]:after{background:url(/assets/images/submitted.png)}.timeline[_ngcontent-%COMP%]   .container.statusColorTop[_ngcontent-%COMP%]:after{background:url(/assets/images/submitted-active.png)}.timeline[_ngcontent-%COMP%]   .container.statusColor1[_ngcontent-%COMP%]:after{background:url(/assets/images/approved.png)}.timeline[_ngcontent-%COMP%]   .container.statusColorTop1[_ngcontent-%COMP%]:after{background:url(/assets/images/approved-active.png)}.timeline[_ngcontent-%COMP%]   .container.statusColor2[_ngcontent-%COMP%]:after{background:url(/assets/images/rejected.png)}.timeline[_ngcontent-%COMP%]   .container.statusColorTop2[_ngcontent-%COMP%]:after{background:url(/assets/images/rejected-active.png)}.timeline[_ngcontent-%COMP%]   .container.statusColor3[_ngcontent-%COMP%]:after{background:url(/assets/images/resubmitted.png)}.timeline[_ngcontent-%COMP%]   .container.statusColorTop3[_ngcontent-%COMP%]:after{background:url(/assets/images/resubmitted-active.png)}.timeline[_ngcontent-%COMP%]   .container.statusColor4[_ngcontent-%COMP%]:after{background:url(/assets/images/resubmitted-after-approval.png)}.timeline[_ngcontent-%COMP%]   .container.statusColorTop4[_ngcontent-%COMP%]:after{background:url(/assets/images/resubmitted-after-approval-active.png)}.right[_ngcontent-%COMP%]:after{left:2px}.content[_ngcontent-%COMP%]{padding:20px 30px;background-color:#fff;position:relative;border-radius:6px}.content[_ngcontent-%COMP%]   .statusDate[_ngcontent-%COMP%]{font-size:14px;font-family:Inter;margin-bottom:2px}.content[_ngcontent-%COMP%]   .statusReason[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .statusReasonLabel[_ngcontent-%COMP%]{font-family:Inter}.content[_ngcontent-%COMP%]   .statusText[_ngcontent-%COMP%]{margin-bottom:2px;font-size:18px}@media screen and (max-width: 600px){.right[_ngcontent-%COMP%]{left:0%}}.unapprovedText[_ngcontent-%COMP%]{font-size:16px;font-family:Inter}']})}return e})()}}]);