"use strict";(self.webpackChunkyelo_dashboard_angular=self.webpackChunkyelo_dashboard_angular||[]).push([[6310],{45188:(F,D,d)=>{d.d(D,{X:()=>_});var p=d(96814),c=d(8285),C=d(85678),f=d(34243);let _=(()=>{class a extends p.uU{constructor(u){super(u.loginData.language||"en"),this.commonService=u,this.timeFormat=c.zt}transform(u,o,h){if("dateOnly"==o)return this.fetchDateOnly(u,o,h);o||(o=this.commonService.loginData.date_format?this.commonService.loginData.date_format.replace(/D/g,"d").replace(/Y/g,"y"):"MMM d, y"),o&&this.commonService.loginData.time_format!=this.timeFormat.TWENTY_FOUR_HOURS&&(o+=" h:mm a"),o&&this.commonService.loginData.time_format==this.timeFormat.TWENTY_FOUR_HOURS&&(o+=" HH:mm");const m=super.transform(u,o);return m.indexOf("AM")>-1||m.indexOf("am")>-1||m.indexOf("PM")>-1||m.indexOf("pm"),super.transform(u,o,h)}fetchDateOnly(u,o,h){o=h||(this.commonService.loginData.date_format?this.commonService.loginData.date_format.replace(/D/g,"d").replace(/Y/g,"y"):"MMM d, y");const m=super.transform(u,o);return m.indexOf("AM")>-1||m.indexOf("am")>-1||m.indexOf("PM")>-1||m.indexOf("pm"),super.transform(u,o,h)}static#t=this.\u0275fac=function(o){return new(o||a)(C.Y36(f.v,16))};static#e=this.\u0275pipe=C.Yjl({name:"dateTimeFormat",type:a,pure:!0})}return a})()},10081:(F,D,d)=>{d.d(D,{Jl:()=>u,KE:()=>o,RN:()=>S,XR:()=>E,dl:()=>h});var p=d(60095),c=d(85678),C=d(65619);const f=/(\d{1,4})/g,_=[{type:"maestro",patterns:[5018,502,503,506,56,58,639,6220,67],format:f,length:[12,13,14,15,16,17,18,19],cvvLength:[3],luhn:!0},{type:"forbrugsforeningen",patterns:[600],format:f,length:[16],cvvLength:[3],luhn:!0},{type:"dankort",patterns:[5019],format:f,length:[16],cvvLength:[3],luhn:!0},{type:"visa",patterns:[4],format:f,length:[13,16,19],cvvLength:[3],luhn:!0},{type:"mastercard",patterns:[51,52,53,54,55,22,23,24,25,26,27],format:f,length:[16],cvvLength:[3],luhn:!0},{type:"amex",patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvvLength:[3,4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvvLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:f,length:[16],cvvLength:[3],luhn:!0},{type:"unionpay",patterns:[62,88],format:f,length:[16,17,18,19],cvvLength:[3],luhn:!1},{type:"jcb",patterns:[35],format:f,length:[16,19],cvvLength:[3],luhn:!0}];class a{static cards(){return _}static cardFromNumber(n){n=(n+"").replace(/\D/g,"");for(let t=0,r=_.length;t<r;t++){const e=_[t],i=e.patterns;for(let s=0,g=i.length;s<g;s++){const v=i[s]+"";if(n.substr(0,v.length)===v)return e}}}static restrictNumeric(n){if(n.metaKey||n.ctrlKey)return!0;if(32===n.which)return!1;if(0===n.which||n.which<33)return!0;const t=String.fromCharCode(n.which);return!!/[\d\s]/.test(t)}static hasTextSelected(n){return null!==n.selectionStart&&n.selectionStart!==n.selectionEnd}static cardType(n){if(!n)return n;const t=this.cardFromNumber(n);return null!==t&&typeof t<"u"?t.type:null}static formatCardNumber(n){n=n.replace(/\D/g,"");const t=this.cardFromNumber(n);if(!t)return n;if(n=n.slice(0,t.length[t.length.length-1]),!t.format.global){const e=t.format.exec(n);return null==e?void 0:(e.shift(),e.filter(Boolean).join(" "))}{const e=n.match(t.format);if(null!=e)return e.join(" ")}}static safeVal(n,t,r){let e=null;const i=t.value;let s=null;try{e=t.selectionStart}catch{}if(r(n),null!==e&&t===document.activeElement){if(e===i.length&&(e=n.length),i!==n){const g=i.slice(e-1,+e+1||9e9),y=n.slice(e-1,+e+1||9e9),v=n[e];/\d/.test(v)&&g===`${v} `&&y===` ${v}`&&(e+=1)}s=e}return s}static isCardNumber(n,t){const r=String.fromCharCode(n);if(!/^\d+$/.test(r))return!1;if(a.hasTextSelected(t))return!0;const e=(t.value+r).replace(/\D/g,""),i=a.cardFromNumber(e);return i?e.length<=i.length[i.length.length-1]:e.length<=16}static restrictExpiry(n,t){const r=String.fromCharCode(n);return!(!/^\d+$/.test(r)||this.hasTextSelected(t))&&`${t.value}${r}`.replace(/\D/g,"").length>6}static replaceFullWidthChars(n){null===n&&(n="");let e="";const i=n.split("");for(let s=0;s<i.length;s++){let g=i[s];const y="\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19".indexOf(g);y>-1&&(g="0123456789"[y]),e+=g}return e}static formatExpiry(n){const t=n.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/);if(!t)return"";let r=t[1]||"",e=t[2]||"";const i=t[3]||"";return i.length>0?e=" / ":" /"===e?(r=r.substring(0,1),e=""):2===r.length||e.length>0?e=" / ":1===r.length&&"0"!==r&&"1"!==r&&(r=`0${r}`,e=" / "),`${r}${e}${i}`}static restrictCvc(n,t){const r=String.fromCharCode(n);return!(!/^\d+$/.test(r)||this.hasTextSelected(t))&&`${t.value}${r}`.length<=4}static luhnCheck(n){const t=n.split("").reverse();let r=!0,e=0;for(let i=0;i<t.length;i++){let s=parseInt(t[i],10);(r=!r)&&(s*=2),s>9&&(s-=9),e+=s}return e%10==0}}class S{static validateCCNumber(n){if(void 0!==p.kI.required(n)&&null!==p.kI.required(n))return{ccNumber:!0};const t=n.value.toString().replace(/\s+|-/g,"");if(!/^\d+$/.test(t))return{ccNumber:!0};const r=a.cardFromNumber(t);if(!r)return{ccNumber:!0};if(r.length.includes(t.length)&&(!1===r.luhn||a.luhnCheck(t)))return null;const e=r.length[r.length.length-1];if(t.length>e){const i=t.substring(0,e);if(a.luhnCheck(i))return null}return{ccNumber:!0}}static validateExpDate(n){if(void 0!==p.kI.required(n)&&null!==p.kI.required(n))return{expDate:!0};if(typeof n.value<"u"&&n.value.length>=5){let[t,r]=n.value.split(/[\s/]+/,2);if(2===r?.length&&/^\d+$/.test(r)&&(r=(new Date).getFullYear().toString().slice(0,2)+r),t=parseInt(t,10).toString(),r=parseInt(r,10).toString(),/^\d+$/.test(t)&&/^\d+$/.test(r)&&t>=1&&t<=12){const e=new Date(r,t),i=new Date;if(e.setMonth(e.getMonth()-1),e.setMonth(e.getMonth()+1,1),e>i)return null}}return{expDate:!0}}}let u=(()=>{class l{constructor(t,r){this.el=t,this.control=r,this.cards=a.cards(),this.resolvedScheme$=new C.X("unknown"),this.target=this.el.nativeElement}updateValue(t){this.control?this.control.control.setValue(t):this.target.value=t}onKeypress(t){a.restrictNumeric(t)?a.isCardNumber(t.which,this.target)&&this.formatCardNumber(t):t.preventDefault()}onKeydown(t){this.formatBackCardNumber(t),this.reFormatCardNumber()}onKeyup(){this.setCardType()}onPaste(){this.reFormatCardNumber()}onChange(){this.reFormatCardNumber()}onInput(){this.reFormatCardNumber(),this.setCardType()}formatCardNumber(t){const r=String.fromCharCode(t.which);if(!/^\d+$/.test(r))return;const e=this.target.value;a.cardFromNumber(e+r),e.replace(/\D/g,"")}formatBackCardNumber(t){const r=this.target.value,e=this.target.selectionStart;8===t.which&&null!=e&&e===this.target.selectionEnd&&e>0&&e!==r.length&&" "===r[e-1]&&(t.preventDefault(),e<=2?(this.updateValue(r.slice(e)),this.target.selectionStart=0,this.target.selectionEnd=0):(this.updateValue(r.slice(0,e-2)+r.slice(e)),this.target.selectionStart=e-2,this.target.selectionEnd=e-2))}setCardType(){const t=a.cardType(this.target.value)||"unknown";this.resolvedScheme$.next(t),this.target.classList.contains(t)||(this.cards.forEach(r=>{this.target.classList.remove(r.type)}),this.target.classList.remove("unknown"),this.target.classList.add(t),this.target.classList.toggle("identified","unknown"!==t))}reFormatCardNumber(){const t=a.formatCardNumber(a.replaceFullWidthChars(this.target.value));t!==this.target.value&&(this.target.selectionStart=this.target.selectionEnd=a.safeVal(t,this.target,e=>{this.updateValue(e)}))}static#t=this.\u0275fac=function(r){return new(r||l)(c.Y36(c.SBq),c.Y36(p.a5,10))};static#e=this.\u0275dir=c.lG2({type:l,selectors:[["","ccNumber",""]],hostBindings:function(r,e){1&r&&c.NdJ("keypress",function(s){return e.onKeypress(s)})("keydown",function(s){return e.onKeydown(s)})("keyup",function(){return e.onKeyup()})("paste",function(){return e.onPaste()})("change",function(){return e.onChange()})("input",function(){return e.onInput()})},exportAs:["ccNumber"],standalone:!0})}return l})(),o=(()=>{class l{constructor(t,r){this.el=t,this.control=r,this.target=this.el.nativeElement}updateValue(t){this.control?this.control.control.setValue(t):this.target.value=t}onKeypress(t){!a.restrictNumeric(t)&&!a.restrictCvc(t.which,this.target)&&t.preventDefault()}reformatCvc(){const t=a.replaceFullWidthChars(this.target.value).replace(/\D/g,"").slice(0,4);t!==this.target.value&&(this.target.selectionStart=this.target.selectionEnd=a.safeVal(t,this.target,e=>{this.updateValue(e)}))}static#t=this.\u0275fac=function(r){return new(r||l)(c.Y36(c.SBq),c.Y36(p.a5,10))};static#e=this.\u0275dir=c.lG2({type:l,selectors:[["","ccCVC",""]],hostBindings:function(r,e){1&r&&c.NdJ("keypress",function(s){return e.onKeypress(s)})("paste",function(){return e.reformatCvc()})("change",function(){return e.reformatCvc()})("input",function(){return e.reformatCvc()})},standalone:!0})}return l})(),h=(()=>{class l{constructor(t,r){this.el=t,this.control=r,this.target=this.el.nativeElement}updateValue(t){this.control?this.control.control.setValue(t):this.target.value=t}onKeypress(t){if(!a.restrictNumeric(t))return t.preventDefault(),!1;a.restrictExpiry(t.which,this.target)&&(this.formatExpiry(t),this.formatForwardSlashAndSpace(t),this.formatForwardExpiry(t))}onKeydown(t){a.restrictNumeric(t)&&a.restrictExpiry(t.which,this.target)&&this.formatBackExpiry(t)}onChange(){this.reformatExpiry()}onInput(){this.reformatExpiry()}formatExpiry(t){const r=String.fromCharCode(t.which),e=`${this.target.value}${r}`;if(/^\d+$/.test(r))if(/^\d$/.test(e)&&"0"!==e&&"1"!==e)t.preventDefault(),this.updateValue(`0${e} / `);else if(/^\d\d$/.test(e)){t.preventDefault();const i=parseInt(e[0],10),s=parseInt(e[1],10);this.updateValue(s>2&&0!==i?`0${i} / ${s}`:`${e} / `)}}formatForwardSlashAndSpace(t){const r=String.fromCharCode(t.which),e=this.target.value;if("/"!==r&&" "!==r)return!1;/^\d$/.test(e)&&"0"!==e&&this.updateValue(`0${e} / `)}formatForwardExpiry(t){const r=String.fromCharCode(t.which),e=this.target.value;!/^\d+$/.test(r)&&/^\d\d$/.test(e)&&this.updateValue(this.target.value=`${e} / `)}formatBackExpiry(t){const r=this.target.valueOf;8===t.which&&(null!=this.target.selectionStart&&this.target.selectionStart!==r.length||/\d\s\/\s$/.test(r)&&(t.preventDefault(),this.updateValue(r.replace(/\d\s\/\s$/,""))))}reformatExpiry(){const t=a.formatExpiry(a.replaceFullWidthChars(this.target.value));t!==this.target.value&&(this.target.selectionStart=this.target.selectionEnd=a.safeVal(t,this.target,e=>{this.updateValue(e)}))}static#t=this.\u0275fac=function(r){return new(r||l)(c.Y36(c.SBq),c.Y36(p.a5,10))};static#e=this.\u0275dir=c.lG2({type:l,selectors:[["","ccExp",""]],hostBindings:function(r,e){1&r&&c.NdJ("keypress",function(s){return e.onKeypress(s)})("keydown",function(s){return e.onKeydown(s)})("change",function(){return e.onChange()})("input",function(){return e.onInput()})},standalone:!0})}return l})(),E=(()=>{class l{static#t=this.\u0275fac=function(r){return new(r||l)};static#e=this.\u0275mod=c.oAB({type:l});static#r=this.\u0275inj=c.cJS({})}return l})()}}]);